/* ════════════════════════════════════════════════════════
   WEATHERSPHERE — DEEP SPACE GLASSMORPHISM THEME v2
   ════════════════════════════════════════════════════════ */

/* ── TOKENS ──────────────────────────────────────────── */
:root {
  --font-display: 'Unbounded', sans-serif;
  --font-body: 'DM Sans', sans-serif;
  --bg-deep:    #050810;
  --bg-mid:     #080d1a;
  --orb-blue:   rgba(29, 78, 216, 0.35);
  --orb-teal:   rgba(6, 182, 212, 0.25);
  --orb-purple: rgba(124, 58, 237, 0.2);
  --glass:      rgba(255,255,255,0.04);
  --glass-2:    rgba(255,255,255,0.07);
  --glass-3:    rgba(255,255,255,0.10);
  --border:     rgba(255,255,255,0.09);
  --border-hi:  rgba(99,202,220,0.35);
  --t1: #f0f6ff;
  --t2: rgba(200,220,255,0.65);
  --t3: rgba(150,180,220,0.4);
  --cyan:   #38bdf8;
  --blue:   #60a5fa;
  --purple: #a78bfa;
  --green:  #34d399;
  --orange: #fb923c;
  --red:    #f87171;
  --yellow: #fbbf24;
  --glow-cyan: 0 0 30px rgba(56,189,248,0.3);
  --glow-blue: 0 0 30px rgba(96,165,250,0.25);
  --radius-lg: 20px;
  --radius-md: 14px;
  --radius-sm: 10px;
  --hdr-h: 68px;
  --col-right-w: 400px;
  --pad: 20px;
}

/* ══ PREMIUM LIGHT MODE ══════════════════════════════════ */
[data-theme="light"] {
  --bg-deep:    #dbeafe;
  --bg-mid:     #e0f2fe;
  --orb-blue:   rgba(59,130,246,0.18);
  --orb-teal:   rgba(6,182,212,0.14);
  --orb-purple: rgba(139,92,246,0.1);
  --glass:      rgba(255,255,255,0.6);
  --glass-2:    rgba(255,255,255,0.75);
  --glass-3:    rgba(255,255,255,0.9);
  --border:     rgba(14,116,144,0.14);
  --border-hi:  rgba(2,132,199,0.4);
  --t1: #0c1a2e;
  --t2: rgba(8,47,73,0.72);
  --t3: rgba(8,47,73,0.42);
  --cyan:   #0369a1;
  --blue:   #1d4ed8;
  --purple: #6d28d9;
  --green:  #065f46;
  --orange: #c2410c;
  --red:    #b91c1c;
  --yellow: #92400e;
  --glow-cyan: 0 0 20px rgba(3,105,161,0.2);
  --glow-blue: 0 0 20px rgba(29,78,216,0.15);
}
[data-theme="light"] body { background: linear-gradient(135deg, #dbeafe 0%, #e0f2fe 40%, #f0f9ff 100%); }
[data-theme="light"] .orb-1 { background: rgba(59,130,246,0.12); }
[data-theme="light"] .orb-2 { background: rgba(6,182,212,0.1); }
[data-theme="light"] .orb-3 { background: rgba(139,92,246,0.08); }

/* ── RESET ────────────────────────────────────────────── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:15px}
body{font-family:var(--font-body);background:var(--bg-deep);color:var(--t1);min-height:100vh;overflow-x:hidden;position:relative}
button{cursor:pointer;border:none;background:none;font-family:var(--font-body)}
input{border:none;background:none;font-family:var(--font-body);outline:none}
a{color:var(--cyan);text-decoration:none}

/* ── ORB BACKGROUND ───────────────────────────────────── */
#bgCanvas{position:fixed;inset:0;pointer-events:none;z-index:0}
.orb{position:fixed;border-radius:50%;filter:blur(80px);pointer-events:none;will-change:transform;animation:orb-drift 20s ease-in-out infinite alternate}
.orb-1{width:700px;height:700px;background:var(--orb-blue);top:-200px;left:-150px;animation-duration:22s}
.orb-2{width:600px;height:600px;background:var(--orb-teal);top:40%;right:-180px;animation-duration:18s;animation-delay:-8s}
.orb-3{width:500px;height:500px;background:var(--orb-purple);bottom:-100px;left:30%;animation-duration:25s;animation-delay:-12s}
@keyframes orb-drift{0%{transform:translate(0,0) scale(1)}33%{transform:translate(40px,-30px) scale(1.05)}66%{transform:translate(-20px,25px) scale(0.97)}100%{transform:translate(15px,-15px) scale(1.02)}}

/* ── HEADER ───────────────────────────────────────────── */
.header{position:sticky;top:0;z-index:200;height:var(--hdr-h);display:flex;align-items:center;gap:16px;padding:0 24px;background:rgba(5,8,16,0.75);backdrop-filter:blur(24px) saturate(180%);border-bottom:1px solid var(--border)}
[data-theme="light"] .header{background:rgba(219,234,254,0.82);border-bottom:1px solid rgba(14,116,144,0.18);box-shadow:0 1px 0 rgba(255,255,255,0.7),0 4px 24px rgba(3,105,161,0.08)}
.header-brand{display:flex;align-items:center;gap:12px;flex-shrink:0}
.logo{width:44px;height:44px;border-radius:14px;overflow:hidden;box-shadow:0 0 0 1px rgba(255,255,255,0.15),var(--glow-cyan);transition:box-shadow 0.3s,transform 0.3s}
.logo:hover{transform:rotate(8deg) scale(1.08);box-shadow:0 0 0 2px rgba(56,189,248,0.4),0 0 30px rgba(56,189,248,0.5)}
.logo svg{width:100%;height:100%;display:block}
[data-theme="light"] .logo{box-shadow:0 2px 12px rgba(3,105,161,0.25),0 0 0 1px rgba(14,116,144,0.2)}
.brand-name{font-family:var(--font-display);font-size:1.1rem;font-weight:700;background:linear-gradient(135deg,#fff 0%,var(--cyan) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
[data-theme="light"] .brand-name{background:linear-gradient(135deg,#0c1a2e 0%,#0369a1 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.brand-sub{font-size:0.68rem;color:var(--t3);letter-spacing:0.06em}
.header-search{flex:1;max-width:400px;display:flex;align-items:center;gap:8px;margin:0 auto;position:relative}
.search-box{flex:1;position:relative;display:flex;align-items:center;gap:10px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-md);padding:0 14px;transition:border-color 0.2s,box-shadow 0.2s}
.search-box:focus-within{border-color:var(--border-hi);box-shadow:0 0 0 3px rgba(56,189,248,0.12),var(--glow-cyan)}
.search-box svg{color:var(--t2);flex-shrink:0}
#searchInput{flex:1;padding:12px 0;color:var(--t1);font-size:0.95rem}
#searchInput::placeholder{color:var(--t3)}
.btn-search{padding:11px 22px;background:linear-gradient(135deg,var(--cyan),var(--blue));color:#fff;font-weight:700;font-size:0.9rem;border-radius:var(--radius-md);transition:filter 0.2s,transform 0.15s,box-shadow 0.2s;white-space:nowrap;box-shadow:0 4px 20px rgba(56,189,248,0.25)}
[data-theme="light"] .btn-search{background:linear-gradient(135deg,#0369a1,#1d4ed8);box-shadow:0 4px 16px rgba(3,105,161,0.3)}
.btn-search:hover{filter:brightness(1.12);transform:translateY(-1px);box-shadow:0 6px 28px rgba(56,189,248,0.4)}
.btn-search:active{transform:translateY(0)}
.header-controls{display:flex;align-items:center;gap:8px;margin-left:auto}
.chips-row{display:flex;gap:6px;flex-wrap:nowrap}
.ctrl-btn{height:38px;min-width:38px;padding:0 10px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--t1);font-size:0.85rem;font-weight:600;display:flex;align-items:center;justify-content:center;gap:6px;transition:all 0.2s}
.ctrl-btn:hover{border-color:var(--border-hi);background:var(--glass-3);transform:translateY(-1px);box-shadow:var(--glow-cyan)}
.ctrl-btn.active{background:linear-gradient(135deg,var(--cyan),var(--blue));border-color:transparent;color:#fff}
[data-theme="light"] .ctrl-btn{background:rgba(255,255,255,0.7);border-color:rgba(14,116,144,0.2)}
[data-theme="light"] .ctrl-btn:hover{border-color:rgba(3,105,161,0.5);background:rgba(255,255,255,0.9);box-shadow:0 2px 12px rgba(3,105,161,0.15)}
.ctrl-track.active svg{stroke:#fff}

/* ── LAYOUT ───────────────────────────────────────────── */
.main{display:grid;grid-template-columns:1fr var(--col-right-w);gap:var(--pad);padding:var(--pad) 24px;max-width:1500px;margin:0 auto;position:relative;z-index:2}
.col-left{display:flex;flex-direction:column;gap:16px;min-width:0}
.col-right{display:flex;flex-direction:column;gap:16px;position:sticky;top:calc(var(--hdr-h) + var(--pad));max-height:calc(100vh - var(--hdr-h) - var(--pad)*2);overflow-y:auto;scrollbar-width:thin;scrollbar-color:rgba(56,189,248,0.15) transparent;padding-bottom:8px}
.col-right::-webkit-scrollbar{display:none}

/* ── GLASS CARD ───────────────────────────────────────── */
.card{background:var(--glass);border:1px solid var(--border);border-radius:var(--radius-lg);padding:22px 24px;backdrop-filter:blur(20px) saturate(150%);position:relative;overflow:hidden;transition:border-color 0.3s,box-shadow 0.3s}
.card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.15),transparent)}
.card:hover{border-color:rgba(255,255,255,0.14)}
[data-theme="light"] .card{background:rgba(255,255,255,0.68);border:1px solid rgba(14,116,144,0.13);box-shadow:0 4px 24px rgba(3,105,161,0.08),0 1px 0 rgba(255,255,255,0.9) inset;backdrop-filter:blur(20px) saturate(180%)}
[data-theme="light"] .card::before{background:linear-gradient(90deg,transparent,rgba(255,255,255,0.8),transparent)}
[data-theme="light"] .card:hover{border-color:rgba(3,105,161,0.2);box-shadow:0 8px 32px rgba(3,105,161,0.12),0 1px 0 rgba(255,255,255,0.9) inset}
.card-hd{font-family:var(--font-display);font-size:0.65rem;font-weight:700;letter-spacing:0.14em;text-transform:uppercase;color:var(--cyan);margin-bottom:16px}
.card-tag{font-size:0.68rem;font-weight:700;letter-spacing:0.1em;text-transform:uppercase;color:var(--t2);margin-bottom:10px}

/* ── FAV BAR ──────────────────────────────────────────── */
.fav-bar{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.fav-label{font-size:0.8rem;color:var(--t2)}

/* ── CHIP ─────────────────────────────────────────────── */
.chip{padding:5px 14px;background:var(--glass-2);border:1px solid var(--border);border-radius:20px;font-size:0.78rem;color:var(--t2);transition:all 0.2s;white-space:nowrap}
.chip:hover{border-color:var(--border-hi);color:var(--cyan);background:rgba(56,189,248,0.08);transform:translateY(-1px)}
[data-theme="light"] .chip{background:rgba(255,255,255,0.7);border-color:rgba(14,116,144,0.15)}
[data-theme="light"] .chip:hover{background:rgba(255,255,255,0.95);border-color:rgba(3,105,161,0.35);color:#0369a1}

/* ── HERO CARD ────────────────────────────────────────── */
.hero-card{background:linear-gradient(135deg,rgba(29,78,216,0.2) 0%,rgba(6,182,212,0.12) 40%,rgba(5,8,16,0.1) 100%);border-color:rgba(56,189,248,0.15);padding:28px 28px 24px}
[data-theme="light"] .hero-card{background:linear-gradient(135deg,rgba(219,234,254,0.9) 0%,rgba(224,242,254,0.85) 40%,rgba(240,249,255,0.8) 100%);border-color:rgba(3,105,161,0.2);box-shadow:0 8px 40px rgba(3,105,161,0.1),0 1px 0 rgba(255,255,255,0.9) inset}
.hero-bg-orb{position:absolute;width:300px;height:300px;border-radius:50%;background:radial-gradient(circle,rgba(56,189,248,0.12),transparent 70%);top:-80px;right:-60px;pointer-events:none}
[data-theme="light"] .hero-bg-orb{background:radial-gradient(circle,rgba(3,105,161,0.08),transparent 70%)}
.hero-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px}
.hero-city{font-family:var(--font-display);font-size:2rem;font-weight:700;line-height:1.15;color:var(--t1)}
.hero-updated{font-size:0.78rem;color:var(--t3);margin-top:4px}
.fav-btn{width:38px;height:38px;border-radius:50%;background:var(--glass-2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;color:var(--t2);flex-shrink:0;transition:all 0.2s}
.fav-btn:hover{border-color:var(--yellow);color:var(--yellow);background:rgba(251,191,36,0.1);transform:scale(1.1)}
.fav-btn.starred{border-color:var(--yellow);color:var(--yellow);background:rgba(251,191,36,0.12)}
.fav-btn.starred svg{fill:var(--yellow)}
.hero-body{display:flex;align-items:center;gap:20px;margin-bottom:28px}
.hero-icon-wrap{position:relative;flex-shrink:0}
.hero-icon{width:100px;height:100px;filter:drop-shadow(0 0 20px rgba(56,189,248,0.4))}
.hero-icon-glow{position:absolute;inset:-20px;border-radius:50%;transition:background 0.6s ease;pointer-events:none}
.hero-temp{font-family:var(--font-display);font-size:5rem;font-weight:900;line-height:1;background:linear-gradient(135deg,#fff 0%,var(--cyan) 80%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
[data-theme="light"] .hero-temp{background:linear-gradient(135deg,#0c1a2e 0%,#0369a1 80%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.hero-cond{font-size:1.15rem;color:var(--t2);margin-top:6px;font-weight:500}
.hero-hilo{font-size:0.88rem;color:var(--t3);margin-top:4px}

/* ══ STATS ROW — Bold Glassmorphism Icons ═══════════════ */
.stats-row{display:grid;grid-template-columns:repeat(8,1fr);gap:8px;border-top:1px solid var(--border);padding-top:20px}
.stat{display:flex;flex-direction:column;align-items:center;gap:6px;padding:14px 6px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);text-align:center;transition:all 0.25s cubic-bezier(0.34,1.56,0.64,1);cursor:default;position:relative;overflow:hidden}
.stat::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(56,189,248,0.4),transparent);opacity:0;transition:opacity 0.2s}
.stat:hover::before{opacity:1}
.stat:hover{border-color:var(--border-hi);transform:translateY(-4px) scale(1.03);box-shadow:0 8px 24px rgba(56,189,248,0.18),0 0 0 1px rgba(56,189,248,0.2);background:var(--glass-3)}
[data-theme="light"] .stat{background:rgba(255,255,255,0.72);border-color:rgba(14,116,144,0.13);box-shadow:0 2px 10px rgba(3,105,161,0.06)}
[data-theme="light"] .stat:hover{border-color:rgba(3,105,161,0.3);box-shadow:0 8px 24px rgba(3,105,161,0.14),0 0 0 1px rgba(3,105,161,0.15);background:rgba(255,255,255,0.92)}

/* Circular icon bubble */
.stat-icon-wrap{width:38px;height:38px;border-radius:50%;background:linear-gradient(135deg,rgba(56,189,248,0.15),rgba(96,165,250,0.08));border:1px solid rgba(56,189,248,0.2);display:flex;align-items:center;justify-content:center;transition:all 0.25s cubic-bezier(0.34,1.56,0.64,1);flex-shrink:0}
.stat:hover .stat-icon-wrap{background:linear-gradient(135deg,rgba(56,189,248,0.28),rgba(96,165,250,0.15));border-color:rgba(56,189,248,0.45);transform:scale(1.18) rotate(-6deg);box-shadow:0 4px 16px rgba(56,189,248,0.22)}
[data-theme="light"] .stat-icon-wrap{background:linear-gradient(135deg,rgba(3,105,161,0.1),rgba(29,78,216,0.06));border-color:rgba(3,105,161,0.18)}
[data-theme="light"] .stat:hover .stat-icon-wrap{background:linear-gradient(135deg,rgba(3,105,161,0.18),rgba(29,78,216,0.12));border-color:rgba(3,105,161,0.38);box-shadow:0 4px 16px rgba(3,105,161,0.18)}
.stat-icon-svg{font-size:1.45rem;display:block;line-height:1}
.stat-lbl{font-size:0.6rem;color:var(--t3);text-transform:uppercase;letter-spacing:0.06em;white-space:nowrap;font-weight:600}
.stat-val{font-size:0.92rem;font-weight:800;white-space:nowrap;color:var(--t1);letter-spacing:-0.01em}
[data-theme="light"] .stat-val{color:#0c1a2e}

/* ── 2-COL ROW ────────────────────────────────────────── */
.row-2col{display:grid;grid-template-columns:1fr 1fr;gap:16px}

/* ── UV CARD ──────────────────────────────────────────── */
.card-num-row{display:flex;align-items:baseline;gap:12px;margin-bottom:14px}
.card-num{font-family:var(--font-display);font-size:2.8rem;font-weight:900;line-height:1}
.card-badge{padding:3px 10px;border-radius:20px;font-size:0.72rem;font-weight:700;background:var(--glass-2);border:1px solid var(--border);color:var(--t2)}
.uv-bar-track{position:relative;height:8px;background:linear-gradient(90deg,#34d399,#fbbf24,#f97316,#ef4444,#c084fc);border-radius:4px;margin-bottom:6px}
.uv-bar-fill{position:absolute;right:0;top:0;bottom:0;background:rgba(5,8,16,0.55);border-radius:0 4px 4px 0;transition:width 1s cubic-bezier(.34,1.56,.64,1)}
[data-theme="light"] .uv-bar-fill{background:rgba(219,234,254,0.7)}
.uv-bar-dot{position:absolute;top:50%;width:14px;height:14px;border-radius:50%;background:#fff;border:2px solid var(--bg-deep);transform:translate(-50%,-50%);box-shadow:0 2px 8px rgba(0,0,0,0.4);transition:left 1s cubic-bezier(.34,1.56,.64,1);left:0%}
[data-theme="light"] .uv-bar-dot{border-color:#dbeafe;box-shadow:0 2px 8px rgba(3,105,161,0.3)}
.uv-scale{display:flex;justify-content:space-between;font-size:0.62rem;color:var(--t3)}

/* ── AQI ──────────────────────────────────────────────── */
.aqi-row{display:flex;flex-direction:column;gap:7px}
.aqi-pill{display:flex;justify-content:space-between;align-items:center;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:7px 12px;transition:border-color 0.2s}
.aqi-pill:hover{border-color:var(--border-hi)}
.aqi-pill-name{font-size:0.75rem;color:var(--t2)}
.aqi-pill-val{font-size:0.82rem;font-weight:700}
.aqi-good{color:#34d399}.aqi-fair{color:#6ee7b7}.aqi-moderate{color:#fbbf24}.aqi-poor{color:#f97316}.aqi-verypoor{color:#ef4444}.aqi-extreme{color:#c084fc}
[data-theme="light"] .aqi-good{color:#065f46}[data-theme="light"] .aqi-moderate{color:#92400e}[data-theme="light"] .aqi-poor{color:#c2410c}[data-theme="light"] .aqi-verypoor{color:#b91c1c}

/* ── HOURLY STRIP ─────────────────────────────────────── */
.hourly-strip{display:flex;gap:8px;overflow-x:auto;padding-bottom:6px;scrollbar-width:thin;scrollbar-color:var(--border) transparent}
.hourly-strip::-webkit-scrollbar{height:3px}
.hourly-strip::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.h-cell{flex-shrink:0;display:flex;flex-direction:column;align-items:center;gap:5px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:10px 13px;transition:all 0.2s;cursor:default;min-width:64px}
.h-cell:hover{border-color:var(--border-hi);transform:translateY(-3px);box-shadow:0 8px 24px rgba(56,189,248,0.12)}
.h-cell:hover img{animation:pop 0.35s cubic-bezier(.34,1.56,.64,1)}
[data-theme="light"] .h-cell{background:rgba(255,255,255,0.7);border-color:rgba(14,116,144,0.13)}
[data-theme="light"] .h-cell:hover{border-color:rgba(3,105,161,0.3);box-shadow:0 8px 20px rgba(3,105,161,0.12)}
.h-time{font-size:0.72rem;color:var(--t3);font-weight:500}
.h-cell img{width:34px;height:34px}
.h-temp{font-size:0.9rem;font-weight:700}
@keyframes pop{50%{transform:scale(1.5)}}

/* ── 7-DAY ────────────────────────────────────────────── */
.daily-list{display:flex;flex-direction:column;gap:6px}
.day-row{display:grid;grid-template-columns:56px 34px 1fr 60px 90px;align-items:center;gap:12px;padding:12px 14px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);transition:all 0.2s;cursor:pointer;position:relative}
.day-row:hover{border-color:var(--border-hi);background:var(--glass-3);transform:translateX(3px)}
.day-row:hover img{transform:rotate(-8deg) scale(1.15);transition:transform 0.2s}
.day-row::after{content:'›';position:absolute;right:14px;top:50%;transform:translateY(-50%);color:var(--t3);font-size:1.1rem;transition:color 0.2s,transform 0.2s}
.day-row:hover::after{color:var(--cyan);transform:translateY(-50%) translateX(3px)}
.day-row:active{transform:scale(0.98)}
[data-theme="light"] .day-row{background:rgba(255,255,255,0.65);border-color:rgba(14,116,144,0.13)}
[data-theme="light"] .day-row:hover{background:rgba(255,255,255,0.9);border-color:rgba(3,105,161,0.25)}
.day-name{font-size:0.88rem;font-weight:600}
.day-row img{width:34px;height:34px}
.day-precip{font-size:0.78rem;color:var(--blue);text-align:center}
.day-bar{height:5px;border-radius:3px;background:linear-gradient(90deg,var(--blue),var(--cyan))}
.day-temps{display:flex;justify-content:flex-end;gap:8px;font-size:0.88rem}
.day-hi{font-weight:700}
.day-lo{color:var(--t2)}

/* ══ MAP — Enhanced ═════════════════════════════════════ */
.map-card{padding:18px 16px 18px;background:linear-gradient(135deg,rgba(56,189,248,0.08) 0%,rgba(96,165,250,0.05) 50%,rgba(5,8,16,0.05) 100%) !important;border:1px solid rgba(56,189,248,0.25) !important;box-shadow:0 0 0 1px rgba(56,189,248,0.08),0 8px 40px rgba(56,189,248,0.12),inset 0 1px 0 rgba(255,255,255,0.08) !important}
[data-theme="light"] .map-card{background:linear-gradient(135deg,rgba(219,234,254,0.9) 0%,rgba(240,249,255,0.85) 100%) !important;border:1px solid rgba(3,105,161,0.2) !important;box-shadow:0 4px 32px rgba(3,105,161,0.1),inset 0 1px 0 rgba(255,255,255,0.9) !important}
.map-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}
.map-hint{font-size:0.72rem;color:var(--t3)}
.map-card .card-hd{margin-bottom:0}
.map-border-wrap{position:relative;border-radius:var(--radius-md);padding:2.5px;background:linear-gradient(135deg,rgba(56,189,248,0.5),rgba(96,165,250,0.3),rgba(124,58,237,0.3));box-shadow:0 0 24px rgba(56,189,248,0.15);margin-top:4px;margin-bottom:4px}
.map-border-wrap::before{content:'';position:absolute;inset:0;border-radius:var(--radius-md);background:linear-gradient(135deg,rgba(56,189,248,0.7) 0%,rgba(96,165,250,0.5) 33%,rgba(124,58,237,0.5) 66%,rgba(56,189,248,0.7) 100%);background-size:300% 300%;animation:border-shimmer 4s linear infinite;mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask-composite:exclude;-webkit-mask-composite:destination-out;padding:1.5px}
@keyframes border-shimmer{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
[data-theme="light"] .map-border-wrap{background:linear-gradient(135deg,rgba(3,105,161,0.4),rgba(29,78,216,0.25),rgba(109,40,217,0.2))}
#map{height:300px;border-radius:calc(var(--radius-md) - 2px);overflow:hidden;position:relative;z-index:1}

/* Leaflet zoom controls */
.leaflet-control-zoom{border:none !important;border-radius:var(--radius-sm) !important;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.5) !important}
.leaflet-control-zoom a{background:rgba(8,13,22,0.9) !important;color:#38bdf8 !important;border:1px solid rgba(56,189,248,0.25) !important;backdrop-filter:blur(10px);font-weight:700;transition:all 0.2s !important}
.leaflet-control-zoom a:hover{background:rgba(56,189,248,0.2) !important;color:#fff !important;border-color:rgba(56,189,248,0.5) !important}
[data-theme="light"] .leaflet-control-zoom a{background:rgba(255,255,255,0.92) !important;color:#0369a1 !important;border:1px solid rgba(3,105,161,0.2) !important}
[data-theme="light"] .leaflet-control-zoom a:hover{background:rgba(3,105,161,0.1) !important;color:#0369a1 !important}

.map-loader{position:absolute;inset:16px;background:rgba(5,8,16,0.7);backdrop-filter:blur(6px);border-radius:var(--radius-md);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;color:var(--cyan);font-size:0.85rem}
.map-loader.hidden{display:none}
.map-spin{width:26px;height:26px;border:3px solid var(--border);border-top-color:var(--cyan);border-radius:50%;animation:spin 0.8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* ══ INSIGHTS ════════════════════════════════════════════ */
.insights-card{padding:20px 20px 20px}
.insights-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.insights-header .card-hd{margin-bottom:0}
.insights-scroll-hint{display:none}
@keyframes pulse-hint{0%,100%{opacity:0.4}50%{opacity:1;color:var(--cyan)}}
.insights-list{display:flex;flex-direction:column;gap:8px;overflow:visible;padding:2px 0 0 0}

.insight{display:flex;align-items:flex-start;gap:12px;padding:12px 14px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);animation:fadeUp 0.4s ease both;transition:all 0.2s;flex-shrink:0}
.insight:hover{border-color:var(--border-hi);transform:translateX(3px)}
.insight:hover .ins-emoji{animation:pop 0.35s cubic-bezier(.34,1.56,.64,1)}
[data-theme="light"] .insight{background:rgba(255,255,255,0.7);border-color:rgba(14,116,144,0.13)}
[data-theme="light"] .insight:hover{border-color:rgba(3,105,161,0.3);background:rgba(255,255,255,0.9)}
@keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.ins-emoji{font-size:1.4rem;flex-shrink:0}
.ins-title{font-size:0.85rem;font-weight:700}
.ins-desc{font-size:0.77rem;color:var(--t2);margin-top:2px}

/* ── WEEKLY RANGE ─────────────────────────────────────── */
.range-list{display:flex;flex-direction:column;gap:12px;padding-bottom:12px}
.range-row{display:flex;align-items:center;gap:10px}
.range-day{width:32px;font-size:0.78rem;color:var(--t2)}
.range-track{flex:1;height:6px;background:var(--glass-2);border-radius:3px;overflow:hidden}
.range-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--cyan));border-radius:3px;transition:width 1s cubic-bezier(.34,1.56,.64,1)}
[data-theme="light"] .range-fill{background:linear-gradient(90deg,#1d4ed8,#0369a1)}
.range-hi{width:34px;font-size:0.8rem;font-weight:700;text-align:right}
.range-lo{width:34px;font-size:0.8rem;color:var(--t2);text-align:right}

/* ── CLIMATE CARD ─────────────────────────────────────── */
.skeletons{display:flex;flex-direction:column;gap:8px}
.skel{height:12px;background:var(--glass-2);border-radius:6px;animation:shimmer 1.5s ease-in-out infinite}
.skel.w90{width:90%}.skel.w70{width:70%}.skel.w60{width:60%;height:16px}.skel.w50{width:50%}
@keyframes shimmer{0%,100%{opacity:.4}50%{opacity:.8}}
.climate-stat-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:18px}
.cs-pill{background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);padding:12px 8px;text-align:center;transition:all 0.2s}
.cs-pill:hover{border-color:var(--border-hi);transform:translateY(-2px);box-shadow:0 6px 16px rgba(56,189,248,0.1)}
[data-theme="light"] .cs-pill{background:rgba(255,255,255,0.7);border-color:rgba(14,116,144,0.13)}
[data-theme="light"] .cs-pill:hover{border-color:rgba(3,105,161,0.25)}
.cs-p-icon{font-size:1.3rem;margin-bottom:6px}
.cs-p-val{font-size:0.9rem;font-weight:700}
.cs-p-lbl{font-size:0.65rem;color:var(--t3);margin-top:3px;text-transform:uppercase;letter-spacing:0.05em}
.climate-sections{display:flex;flex-direction:column;gap:8px}
.cs-sec{background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);overflow:hidden;animation:fadeUp 0.4s ease both}
[data-theme="light"] .cs-sec{background:rgba(255,255,255,0.65);border-color:rgba(14,116,144,0.13)}
.cs-sec-head{display:flex;align-items:center;gap:10px;padding:13px 16px;cursor:pointer;transition:background 0.2s;user-select:none}
.cs-sec-head:hover{background:rgba(56,189,248,0.05)}
[data-theme="light"] .cs-sec-head:hover{background:rgba(3,105,161,0.05)}
.cs-sec-ic{font-size:1rem}
.cs-sec-title{flex:1;font-size:0.88rem;font-weight:600}
.cs-sec-chev{font-size:0.6rem;color:var(--t3);transition:transform 0.3s}
.cs-sec.open .cs-sec-chev{transform:rotate(180deg)}
.cs-sec-body{max-height:0;overflow:hidden;padding:0 16px;font-size:0.84rem;line-height:1.7;color:var(--t2);transition:max-height 0.4s ease,padding 0.3s}
.cs-sec.open .cs-sec-body{max-height:500px;padding:0 16px 16px}
.hi-num{color:var(--cyan);font-weight:700}
.hi-warn{color:var(--red);font-weight:700}
.hi-good{color:var(--green);font-weight:700}
[data-theme="light"] .hi-num{color:#0369a1}[data-theme="light"] .hi-warn{color:#b91c1c}[data-theme="light"] .hi-good{color:#065f46}
.cs-timeline{display:flex;flex-direction:column;gap:10px;padding-top:4px}
.cs-event{display:flex;gap:12px;padding:10px 12px;background:var(--glass);border-radius:var(--radius-sm);border-left:3px solid var(--cyan);transition:transform 0.2s}
.cs-event.cyclone{border-left-color:var(--purple)}.cs-event.flood{border-left-color:var(--blue)}.cs-event.drought{border-left-color:var(--orange)}.cs-event.heatwave{border-left-color:var(--red)}.cs-event.manmade{border-left-color:var(--yellow)}
.cs-event:hover{transform:translateX(3px)}
[data-theme="light"] .cs-event{background:rgba(219,234,254,0.4)}
.cs-ev-year{font-family:var(--font-display);font-weight:900;font-size:0.8rem;color:var(--cyan);min-width:46px;flex-shrink:0}
.cs-ev-text{font-size:0.8rem;line-height:1.55}
.climate-err{display:flex;flex-direction:column;align-items:center;gap:10px;padding:30px;color:var(--t2);font-size:0.88rem;text-align:center}
.climate-err.hidden{display:none}
.err-icon{font-size:2rem}
.retry-btn{padding:8px 20px;background:rgba(56,189,248,0.1);border:1px solid var(--border-hi);border-radius:var(--radius-sm);color:var(--cyan);font-size:0.82rem;font-weight:700;transition:all 0.2s}
.retry-btn:hover{background:rgba(56,189,248,0.2);transform:translateY(-1px)}

/* ── TOAST ────────────────────────────────────────────── */
.toast{position:fixed;top:calc(var(--hdr-h) + 12px);right:20px;z-index:500;background:rgba(248,113,113,0.12);border:1px solid rgba(248,113,113,0.35);border-radius:var(--radius-sm);padding:10px 16px;display:flex;align-items:center;gap:10px;color:#fca5a5;font-size:0.88rem;backdrop-filter:blur(16px);animation:slideIn 0.3s ease;max-width:360px}
.toast.hidden{display:none}
.toast button{color:#fca5a5;font-size:1.1rem;padding:0 2px;margin-left:auto}
@keyframes slideIn{from{opacity:0;transform:translateX(16px)}to{opacity:1}}

/* ── TRACK BANNER ─────────────────────────────────────── */
.track-banner{position:fixed;top:calc(var(--hdr-h) + 12px);left:50%;transform:translateX(-50%);z-index:400;background:rgba(52,211,153,0.1);border:1px solid rgba(52,211,153,0.3);border-radius:24px;padding:8px 18px;display:flex;align-items:center;gap:10px;color:#6ee7b7;font-size:0.82rem;backdrop-filter:blur(16px)}
.track-banner.hidden{display:none}
.live-dot{width:8px;height:8px;border-radius:50%;background:#34d399;animation:livepulse 1.5s ease-in-out infinite}
@keyframes livepulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.7);opacity:.5}}
.track-banner button{padding:3px 12px;background:rgba(239,68,68,0.15);color:#fca5a5;border:1px solid rgba(239,68,68,0.25);border-radius:12px;font-size:0.75rem;transition:background 0.2s}
.track-banner button:hover{background:rgba(239,68,68,0.3)}

/* ── LOADING VEIL ─────────────────────────────────────── */
.loading-veil{position:fixed;inset:0;background:rgba(5,8,16,0.75);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:999}
.loading-veil.hidden{display:none}
.spinner{position:relative;width:48px;height:48px}
.spinner div{position:absolute;inset:0;border:3px solid transparent;border-top-color:var(--cyan);border-radius:50%;animation:spin 0.9s linear infinite}
.spinner div:nth-child(2){inset:8px;border-top-color:var(--blue);animation-duration:1.2s}
.spinner div:nth-child(3){inset:16px;border-top-color:var(--purple);animation-duration:1.5s}

/* ── SKELETON INSIGHT ─────────────────────────────────── */
.skel-insight{height:56px;background:var(--glass-2);border-radius:var(--radius-sm);animation:shimmer 1.5s ease-in-out infinite;margin-bottom:8px;flex-shrink:0}

/* ── FOOTER ───────────────────────────────────────────── */
.footer{position:relative;z-index:2;border-top:1px solid rgba(56,189,248,0.15);background:rgba(5,8,16,0.9);backdrop-filter:blur(24px);padding:20px 28px;display:flex;align-items:center;justify-content:space-between;gap:20px}
[data-theme="light"] .footer{background:rgba(219,234,254,0.85);border-top:1px solid rgba(3,105,161,0.15);box-shadow:0 -4px 24px rgba(3,105,161,0.06)} .footer-center{display:none}
.footer-left{display:flex;align-items:center}
.footer-center{display:flex;align-items:center;gap:10px;font-size:0.8rem;color:var(--t3)}
.footer-right{display:flex;justify-content:flex-end}
.footer-brand{display:flex;align-items:center;gap:12px}
.footer-logo{width:38px;height:38px;border-radius:11px;overflow:hidden;box-shadow:0 0 20px rgba(56,189,248,0.3);flex-shrink:0;transition:transform 0.3s;cursor:default}
.footer-logo:hover{transform:rotate(10deg) scale(1.1)}
.footer-logo svg{width:100%;height:100%;display:block}
[data-theme="light"] .footer-logo{box-shadow:0 2px 12px rgba(3,105,161,0.25)}
.footer-name{font-family:var(--font-display);font-size:1.15rem;font-weight:900;background:linear-gradient(135deg,#fff 0%,var(--cyan) 60%,var(--blue) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.01em;filter:drop-shadow(0 0 8px rgba(56,189,248,0.4))}
[data-theme="light"] .footer-name{background:linear-gradient(135deg,#0c1a2e 0%,#0369a1 60%,#1d4ed8 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;filter:none}
.footer-tagline{font-size:0.7rem;color:var(--t3);letter-spacing:0.1em;text-transform:uppercase;margin-top:2px}
.footer-clock{font-variant-numeric:tabular-nums;font-weight:700;font-size:0.9rem;font-family:var(--font-display);background:linear-gradient(135deg,var(--cyan),var(--blue));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:0.05em}
[data-theme="light"] .footer-clock{background:linear-gradient(135deg,#0369a1,#1d4ed8);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.footer .sep{color:var(--border)}

/* ── SCROLLBAR ────────────────────────────────────────── */
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
[data-theme="light"] ::-webkit-scrollbar-thumb{background:rgba(3,105,161,0.2)}

/* ── SPLASH ───────────────────────────────────────────── */
.splash{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:#050810;overflow:hidden;transition:opacity 0.8s ease,filter 0.8s ease}
.splash.exiting{opacity:0;filter:blur(20px);pointer-events:none}
.splash.gone{display:none}
.splash-orb{position:absolute;border-radius:50%;filter:blur(90px);pointer-events:none;animation:orb-drift 18s ease-in-out infinite alternate}
.so1{width:700px;height:700px;background:rgba(29,78,216,0.4);top:-200px;left:-150px;animation-duration:22s}
.so2{width:600px;height:600px;background:rgba(6,182,212,0.3);bottom:-100px;right:-150px;animation-duration:18s;animation-delay:-6s}
.so3{width:500px;height:500px;background:rgba(124,58,237,0.25);top:30%;left:40%;animation-duration:26s;animation-delay:-12s}
#splashCanvas{position:absolute;inset:0;pointer-events:none;z-index:0}
.splash-content{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:18px;text-align:center;padding:40px;animation:splash-enter 1s cubic-bezier(0.34,1.56,0.64,1) both}
@keyframes splash-enter{from{opacity:0;transform:translateY(30px) scale(0.95)}to{opacity:1;transform:none}}
.splash-logo-wrap{width:100px;height:100px;border-radius:28px;overflow:hidden;box-shadow:0 0 60px rgba(56,189,248,0.5),0 0 120px rgba(56,189,248,0.2);animation:logo-pulse 3s ease-in-out infinite}
@keyframes logo-pulse{0%,100%{box-shadow:0 0 60px rgba(56,189,248,0.5),0 0 120px rgba(56,189,248,0.2)}50%{box-shadow:0 0 80px rgba(56,189,248,0.75),0 0 160px rgba(56,189,248,0.35)}}
.splash-logo-wrap svg{width:100%;height:100%;display:block}
.splash-title{font-family:var(--font-display);font-size:clamp(2.5rem,6vw,4.5rem);font-weight:900;background:linear-gradient(135deg,#fff 0%,#38bdf8 50%,#818cf8 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;line-height:1.1;letter-spacing:-0.02em}
.splash-tagline{font-size:1.1rem;color:var(--t2);letter-spacing:0.12em;text-transform:uppercase;font-weight:500}
.splash-desc{font-size:1rem;color:var(--t3);line-height:1.7;max-width:460px}
.splash-features{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:4px}
.splash-feat{display:flex;align-items:center;gap:8px;padding:8px 16px;background:var(--glass-2);border:1px solid var(--border);border-radius:30px;font-size:0.85rem;color:var(--t2);backdrop-filter:blur(12px);animation:feat-pop 0.6s cubic-bezier(0.34,1.56,0.64,1) both}
.splash-feat:nth-child(1){animation-delay:0.3s}.splash-feat:nth-child(2){animation-delay:0.45s}.splash-feat:nth-child(3){animation-delay:0.6s}.splash-feat:nth-child(4){animation-delay:0.75s}
@keyframes feat-pop{from{opacity:0;transform:translateY(12px) scale(0.9)}to{opacity:1;transform:none}}
.splash-scroll-hint{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:20px;color:var(--t3);font-size:0.78rem;letter-spacing:0.08em;text-transform:uppercase;animation:hint-fade 1s ease 1.5s both}
@keyframes hint-fade{from{opacity:0}to{opacity:1}}
.scroll-chevron{width:24px;height:24px;position:relative}
.scroll-chevron::before,.scroll-chevron::after{content:'';position:absolute;width:12px;height:2px;background:var(--cyan);border-radius:2px;top:8px;animation:chevron-bounce 1.5s ease-in-out infinite}
.scroll-chevron::before{left:0;transform:rotate(45deg)}
.scroll-chevron::after{right:0;transform:rotate(-45deg);animation-name:chevron-bounce-r}
@keyframes chevron-bounce{0%,100%{opacity:0.4;transform:rotate(45deg) translateY(0)}50%{opacity:1;transform:rotate(45deg) translateY(4px)}}
@keyframes chevron-bounce-r{0%,100%{opacity:0.4;transform:rotate(-45deg) translateY(0)}50%{opacity:1;transform:rotate(-45deg) translateY(4px)}}

/* ── SCROLL REVEAL ────────────────────────────────────── */
.reveal-item{opacity:0;transform:translateY(40px);filter:blur(8px);transition:opacity 0.7s cubic-bezier(0.34,1,0.64,1),transform 0.7s cubic-bezier(0.34,1,0.64,1),filter 0.7s ease}
.reveal-item.revealed{opacity:1;transform:translateY(0);filter:blur(0)}

/* ── 7-DAY HEADER ROW ────────────────────────────────── */
.card-hd-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.card-hd-row .card-hd{margin-bottom:0}
.forecast-hint{font-size:0.68rem;color:var(--t3);border:1px solid var(--border);border-radius:20px;padding:3px 10px;letter-spacing:0.04em;animation:pulse-hint 2.5s ease-in-out infinite}

/* ── DAY DETAIL MODAL ────────────────────────────────── */
.day-modal{position:fixed;inset:0;z-index:8000;display:flex;align-items:center;justify-content:center;padding:20px}
.day-modal.hidden{display:none}
.day-modal-backdrop{position:absolute;inset:0;background:rgba(5,8,16,0.75);backdrop-filter:blur(12px);cursor:pointer;animation:fade-in 0.25s ease}
@keyframes fade-in{from{opacity:0}to{opacity:1}}
.day-modal-panel{position:relative;z-index:1;background:rgba(10,18,35,0.95);border:1px solid rgba(56,189,248,0.3);border-radius:24px;padding:32px 36px;width:100%;max-width:480px;backdrop-filter:blur(30px) saturate(150%);box-shadow:0 0 0 1px rgba(56,189,248,0.1),0 30px 80px rgba(0,0,0,0.6),0 0 60px rgba(56,189,248,0.08);animation:modal-pop 0.4s cubic-bezier(0.34,1.56,0.64,1);overflow:hidden}
[data-theme="light"] .day-modal-panel{background:rgba(240,249,255,0.97);border-color:rgba(3,105,161,0.25);box-shadow:0 20px 60px rgba(3,105,161,0.15),0 0 0 1px rgba(3,105,161,0.1)}
.day-modal-panel::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(56,189,248,0.6),transparent)}
@keyframes modal-pop{from{opacity:0;transform:scale(0.88) translateY(20px);filter:blur(10px)}to{opacity:1;transform:none;filter:blur(0)}}
.day-modal-close{position:absolute;top:16px;right:16px;width:32px;height:32px;border-radius:50%;background:var(--glass-2);border:1px solid var(--border);color:var(--t2);font-size:0.9rem;display:flex;align-items:center;justify-content:center;transition:all 0.2s}
.day-modal-close:hover{background:rgba(248,113,113,0.15);border-color:rgba(248,113,113,0.4);color:#fca5a5}
.modal-day-name{font-family:var(--font-display);font-size:1.4rem;font-weight:900;background:linear-gradient(135deg,#fff,var(--cyan));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:4px}
[data-theme="light"] .modal-day-name{background:linear-gradient(135deg,#0c1a2e,#0369a1);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.modal-date{font-size:0.82rem;color:var(--t3);margin-bottom:24px}
.modal-weather-hero{display:flex;align-items:center;gap:20px;margin-bottom:28px;padding:20px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-md)}
.modal-icon{width:80px;height:80px;filter:drop-shadow(0 0 16px rgba(56,189,248,0.4))}
.modal-temp-hi{font-family:var(--font-display);font-size:3.2rem;font-weight:900;line-height:1;background:linear-gradient(135deg,#fff,var(--cyan));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
[data-theme="light"] .modal-temp-hi{background:linear-gradient(135deg,#0c1a2e,#0369a1);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.modal-temp-lo{font-size:1.1rem;color:var(--t2);margin-top:4px}
.modal-cond{font-size:1rem;color:var(--t2);margin-top:6px;font-weight:500}
.modal-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.modal-stat{display:flex;flex-direction:column;align-items:center;gap:5px;padding:14px 10px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm);text-align:center;transition:border-color 0.2s,transform 0.2s}
.modal-stat:hover{border-color:var(--border-hi);transform:translateY(-2px)}
.modal-stat-icon{font-size:1.2rem}
.modal-stat-lbl{font-size:0.65rem;color:var(--t3);text-transform:uppercase;letter-spacing:0.06em}
.modal-stat-val{font-size:0.9rem;font-weight:700}
.modal-sunrise-row{display:flex;gap:10px;margin-top:10px}
.modal-sun-cell{flex:1;display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm)}
.modal-sun-cell .sun-icon{font-size:1.4rem}
.modal-sun-cell .sun-lbl{font-size:0.7rem;color:var(--t3);text-transform:uppercase}
.modal-sun-cell .sun-val{font-size:0.95rem;font-weight:700}
.modal-precip-bar{margin-top:16px;padding:14px 16px;background:var(--glass-2);border:1px solid var(--border);border-radius:var(--radius-sm)}
.modal-precip-label{font-size:0.72rem;color:var(--t3);text-transform:uppercase;letter-spacing:0.08em;margin-bottom:8px}
.modal-precip-val{font-size:1rem;font-weight:700;color:var(--blue);margin-bottom:8px}
.modal-precip-track{height:6px;background:var(--glass-3);border-radius:3px;overflow:hidden}
.modal-precip-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--cyan));border-radius:3px;transition:width 0.8s ease}

/* ── CLIMATE BULLETS ──────────────────────────────────── */
.climate-bullets { display: flex; flex-direction: column; gap: 12px; }
.climate-bullets-title {
  font-size: 0.95rem; font-weight: 800; color: var(--t1);
  display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
  margin-bottom: 4px;
}
.climate-bullets-title strong { color: var(--cyan); font-weight: 900; }
[data-theme="light"] .climate-bullets-title strong { color: #0369a1; }

.climate-bullet-list {
  list-style: none; display: flex; flex-direction: column; gap: 10px;
  padding: 0; margin: 0;
}
.climate-bullet-item {
  display: flex; align-items: flex-start; gap: 12px;
  padding: 14px 16px;
  background: var(--glass-2); border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 0.97rem; font-weight: 600; line-height: 1.65; color: var(--t1);
  animation: fadeUp 0.4s ease both;
  transition: border-color 0.2s, transform 0.2s, background 0.2s;
  letter-spacing: 0.01em;
}
.climate-bullet-item:hover {
  border-color: var(--border-hi); transform: translateX(3px);
  background: var(--glass-3);
}
[data-theme="light"] .climate-bullet-item {
  background: rgba(255,255,255,0.7); border-color: rgba(14,116,144,0.13);
  color: #0c1a2e;
}
[data-theme="light"] .climate-bullet-item:hover {
  border-color: rgba(3,105,161,0.3); background: rgba(255,255,255,0.9);
}
.bullet-dot {
  flex-shrink: 0; width: 9px; height: 9px; border-radius: 50%;
  background: linear-gradient(135deg, var(--cyan), var(--blue));
  margin-top: 8px; box-shadow: 0 0 8px rgba(56,189,248,0.5);
}
[data-theme="light"] .bullet-dot {
  background: linear-gradient(135deg, #0369a1, #1d4ed8);
  box-shadow: 0 0 6px rgba(3,105,161,0.25);
}
.bullet-text { flex: 1; }
.climate-source { display: none; }

/* ── RESPONSIVE IMPROVEMENTS ──────────────────────────── */
@media(max-width:1100px){
  .main{grid-template-columns:1fr}
  .col-right{position:static;max-height:none}
  .stats-row{grid-template-columns:repeat(4,1fr)}
}
@media(max-width:860px){
  .stats-row{grid-template-columns:repeat(4,1fr);gap:6px}
  .stat{padding:10px 4px}
  .stat-icon-wrap{width:32px;height:32px}
  .stat-icon-svg{font-size:1.2rem}
  .stat-lbl{font-size:0.55rem}
  .stat-val{font-size:0.82rem}
  .row-2col{grid-template-columns:1fr 1fr}
  #map{height:260px}
  .hero-temp{font-size:4rem}
}
@media(max-width:700px){
  :root{--pad:12px;--col-right-w:100%}
  .header{padding:0 12px;gap:8px;height:60px}
  .header-controls{display:none}
  .logo{width:36px;height:36px}
  .brand-name{font-size:0.95rem}
  .brand-sub{display:none}
  .btn-search{padding:9px 14px;font-size:0.82rem}
  #searchInput{font-size:0.88rem}
  .hero-card{padding:18px 16px 16px}
  .hero-city{font-size:1.5rem}
  .hero-temp{font-size:3.4rem}
  .hero-icon{width:80px;height:80px}
  .hero-body{gap:12px;margin-bottom:20px}
  .stats-row{grid-template-columns:repeat(4,1fr);gap:5px;padding-top:14px}
  .stat{padding:8px 3px;gap:4px}
  .stat-icon-wrap{width:28px;height:28px}
  .stat-icon-svg{font-size:1rem}
  .stat-lbl{font-size:0.52rem;letter-spacing:0.02em}
  .stat-val{font-size:0.78rem}
  .climate-stat-grid{grid-template-columns:repeat(2,1fr)}
  .row-2col{grid-template-columns:1fr}
  .footer{flex-direction:column;align-items:flex-start;gap:10px;padding:16px 14px}
  .footer-right{justify-content:flex-start}
  .footer-center{flex-wrap:wrap;gap:6px}
  .card{padding:16px 14px;border-radius:14px}
  .card-hd{font-size:0.6rem;margin-bottom:12px}
  #map{height:220px}
  .day-modal-panel{padding:20px 18px}
  /* insights-list: no max-height clipping */
  .main{padding:10px 10px;gap:10px}
}
@media(max-width:420px){
  .stats-row{grid-template-columns:repeat(4,1fr);gap:4px}
  .stat{padding:7px 2px}
  .stat-icon-wrap{width:26px;height:26px}
  .stat-icon-svg{font-size:0.9rem}
  .stat-lbl{font-size:0.48rem}
  .stat-val{font-size:0.72rem}
  .hero-temp{font-size:2.9rem}
  .hero-city{font-size:1.3rem}
  .hero-icon{width:70px;height:70px}
  .splash-title{font-size:2rem}
  .splash-features{gap:6px}
  .splash-feat{font-size:0.75rem;padding:6px 12px}
}