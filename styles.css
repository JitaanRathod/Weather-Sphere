:root{
    --bg:#0f1724;
    --panel: rgba(23,27,35,0.6);
    --muted:#9aa4b2;
    --accent:#4a90e2;
    --glass-border: rgba(255,255,255,0.08);
    --glass-strong: rgba(255,255,255,0.03);
    --card-radius:18px;
    --max-width:1300px;
}

/* Reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
    background: #020024;
background: linear-gradient(90deg, rgba(2, 0, 36, 1) 0%, rgba(9, 9, 121, 1) 35%, rgba(0, 212, 255, 1) 100%);
    color:#e6eef6;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow:hidden;
}

/* --- CUSTOM SCROLLBAR --- */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: rgba(15, 23, 36, 0.1);
}
::-webkit-scrollbar-thumb {
  background-color: rgba(74, 144, 226, 0.4);
  border-radius: 99px;
  border: 2px solid transparent;
  background-clip: content-box;
}
::-webkit-scrollbar-thumb:hover {
  background-color: rgba(74, 144, 226, 0.6);
}

/* Header */
.app-header{
    position:sticky;
    top:0;
    z-index:1200;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:20px;
    padding:12px 20px;
    background: linear-gradient(90deg, rgba(10,20,36,0.6), rgba(12,18,28,0.4));
    border-bottom: 1px solid rgba(255,255,255,0.04);
    backdrop-filter: blur(6px);
}

.brand{
    display:flex;
    gap:12px;
    align-items:center;
}

.app-logo{
    width:46px;height:46px;border-radius:10px;
    background:linear-gradient(135deg,#4a90e2,#93c5fd);
    padding:6px;
    box-shadow: 0 6px 18px rgba(74,144,226,0.18), inset 0 -4px 10px rgba(0,0,0,0.12);
    transform-origin:center;
    animation: logo-bob 6s ease-in-out infinite;
    will-change: transform;
}

@keyframes logo-bob{
    0%{transform:translateY(0) rotate(0)}
    50%{transform:translateY(-4px) rotate(-3deg)}
    100%{transform:translateY(0) rotate(0)}
}

.app-name{font-weight:700;font-size:18px;letter-spacing:0.4px}
.app-tag{font-size:12px;color:var(--muted)}

/* header actions */
.header-actions{display:flex;align-items:center;gap:12px}
#locateBtn { background: transparent; border: 1px solid rgba(255,255,255,0.1); border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--muted); transition: all 0.2s ease; }
#locateBtn:hover { background: var(--accent); color: #fff; border-color: var(--accent); }

.chips{display:flex;gap:8px;align-items:center}
.chips .chip{
    background: transparent;
    border:1px solid rgba(255,255,255,0.04);
    padding:6px 10px;border-radius:999px;font-size:13px;color:var(--muted);
    cursor:pointer; transition: all .18s ease;
}
.chips .chip:hover{transform:translateY(-4px);border-color:var(--accent);color:#fff}

/* Main container */
.container{
    display:flex;
    gap:22px;
    width:100%;
    height:calc(100vh - 70px);
    padding:18px;
    align-items:stretch;
    justify-content:center;
    max-width:var(--max-width);
    margin:0 auto;
    overflow-y: auto; 
}

/* Left column (weather) */
.left-col{
    flex:1 1 66%; 
    min-width:520px; 
    display:flex; 
    flex-direction:column; 
    gap:18px; 
    overscroll-behavior-y: contain; 
    /* Removed padding-right from here to fix mobile overflow */
}

.right-col{width:28%; min-width:300px; display:flex; flex-direction:column; gap:16px; align-items:stretch}

/* Search row */
.search-row{display:flex;gap:12px}
.search-row input{
    flex:1;padding:12px 14px;border-radius:12px;border:1px solid var(--glass-border);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color:inherit;font-size:15px;outline:none;box-shadow:none;transition:box-shadow .15s ease, transform .12s ease;
}
.search-row input:focus{box-shadow:0 8px 30px rgba(74,144,226,0.08);transform:translateY(-2px);border-color:var(--accent)}
.search-row button{padding:12px 18px;border-radius:10px;border:none;background:var(--accent);color:#fff;font-weight:600;cursor:pointer}

/* Cards */
.card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: var(--card-radius);
    border:1px solid rgba(255,255,255,0.04);
    padding:18px;
    box-shadow: 0 6px 24px rgba(2,6,23,0.5); 
    backdrop-filter: blur(6px); 
}

/* Current Weather */
.current-weather .location-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.current-weather h2{font-size:20px}
.updated{font-size:12px;color:var(--muted)}
.main-info{display:flex;gap:18px;align-items:center;padding:6px 0}

/* Weather icon with hover + breathe */
#currentIcon{
    transition: transform 0.4s ease, filter 0.3s ease;
    filter: drop-shadow(0 8px 18px rgba(2,6,23,0.6));
    animation: breathe 6s ease-in-out infinite;
    will-change: transform; 
}
@keyframes breathe {
    0%,100% { transform: scale(1) translateY(0); }
    50% { transform: scale(1.06) translateY(-4px); }
}
.card:hover #currentIcon{ transform: scale(1.1) translateY(-6px); }

/* Temps */
.temp{font-size:56px;font-weight:300}
.cond{font-size:14px;color:var(--muted);margin-top:6px}

/* Meta grid */
.meta-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:12px}
.meta-title{font-size:12px;color:var(--muted)}
.meta-val{font-weight:700;font-size:16px}

/* hourly */
.hourly-scroll{display:flex;gap:12px;overflow-x:auto; padding:12px 6px; scrollbar-width: thin; scrollbar-color: var(--accent) transparent;}
.hourly-item{
    min-width:84px;
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border-radius:12px;padding:8px;text-align:center;
    border:1px solid rgba(255,255,255,0.03);
}
.hourly-item img{
    width:44px;height:44px;margin:6px 0;
    filter: drop-shadow(0 6px 14px rgba(2,6,23,0.6));
    transition: transform 0.3s ease;
    animation: breathe 8s ease-in-out infinite;
    will-change: transform; 
}
.hourly-item img:hover{ transform: scale(1.15) translateY(-4px); }

/* daily grid */
.daily-grid{display:flex;flex-direction:column;gap:8px;margin-top:8px}
.daily-item{display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
.daily-item img{
    width:36px;height:36px;margin-right:8px;
    filter: drop-shadow(0 4px 10px rgba(2,6,23,0.6));
    transition: transform 0.3s ease;
    animation: breathe 10s ease-in-out infinite;
    will-change: transform; 
}
.daily-item img:hover{ transform: scale(1.2) translateY(-3px); }

/* Map box (right column) */
.map-box{background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); border-radius:20px; padding:12px; border:2px solid rgba(255,255,255,0.04); box-shadow: 0 12px 30px rgba(2,6,23,0.6); display:flex;flex-direction:column; gap:8px; height: 100%;}
.map-header{display:flex;justify-content:space-between;align-items:center;padding:6px 8px;color:#e6eef6;font-size:13px}
.map-hint{font-size:12px;color:var(--muted)}
#map{flex:1;border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
.map-footer{font-size:11px;color:var(--muted);text-align:center}

/* Loading overlay */
.loading-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(0,0,0,0.2), rgba(0,0,0,0.25));backdrop-filter:blur(4px);z-index:100}
.hidden{display:none}
.loader{width:46px;height:46px;border-radius:50%;border:4px solid rgba(255,255,255,0.06);border-top-color:var(--accent);animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Small Screens */
@media (max-width:930px){
    body { overflow: auto; }
    .container{
        flex-direction: column; 
        height: auto;
        padding:12px;
        gap:12px;
        overflow-y: visible;
    }
    .left-col {
        min-width: unset;
        width: 100%;
        padding-right: 0;
        overflow-y: visible;
    }
    .right-col{
        width: 100%;
        min-width: unset;
        height: 400px;
    }
    .app-name{font-size:16px}
}
